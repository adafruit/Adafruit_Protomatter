<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Adafruit Protomatter: Adafruit_Protomatter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Adafruit Protomatter
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_adafruit___protomatter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Adafruit_Protomatter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class representing the Arduino-facing side of the Protomatter library. Subclass of Adafruit_GFX's GFXcanvas16 to allow all the drawing operations.  
 <a href="class_adafruit___protomatter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_adafruit___protomatter_8h_source.html">Adafruit_Protomatter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Adafruit_Protomatter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_adafruit___protomatter.png" usemap="#Adafruit_5FProtomatter_map" alt=""/>
  <map id="Adafruit_5FProtomatter_map" name="Adafruit_5FProtomatter_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a136c7477c2c673101d445a5aa3da18a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_adafruit___protomatter.html#a136c7477c2c673101d445a5aa3da18a5">Adafruit_Protomatter</a> (uint16_t bitWidth, uint8_t bitDepth, uint8_t rgbCount, uint8_t *rgbList, uint8_t addrCount, uint8_t *addrList, uint8_t clockPin, uint8_t latchPin, uint8_t oePin, bool doubleBuffer, void *timer=NULL)</td></tr>
<tr class="memdesc:a136c7477c2c673101d445a5aa3da18a5"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_adafruit___protomatter.html" title="Class representing the Arduino-facing side of the Protomatter library. Subclass of Adafruit_GFX&#39;s GFX...">Adafruit_Protomatter</a> constructor.  <a href="#a136c7477c2c673101d445a5aa3da18a5">More...</a><br /></td></tr>
<tr class="separator:a136c7477c2c673101d445a5aa3da18a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7447e7f6db42970482f20d1f5029ece1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="core_8h.html#af659eb7a92f2ae47fac607db2eca4bc5">ProtomatterStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_adafruit___protomatter.html#a7447e7f6db42970482f20d1f5029ece1">begin</a> (void)</td></tr>
<tr class="memdesc:a7447e7f6db42970482f20d1f5029ece1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a Protomatter matrix display running &ndash; initialize pins, timer and interrupt into existence.  <a href="#a7447e7f6db42970482f20d1f5029ece1">More...</a><br /></td></tr>
<tr class="separator:a7447e7f6db42970482f20d1f5029ece1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae75a4e7ab4d71311aca4ef9ad5f3166d"><td class="memItemLeft" align="right" valign="top"><a id="ae75a4e7ab4d71311aca4ef9ad5f3166d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_adafruit___protomatter.html#ae75a4e7ab4d71311aca4ef9ad5f3166d">show</a> (void)</td></tr>
<tr class="memdesc:ae75a4e7ab4d71311aca4ef9ad5f3166d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process data from GFXcanvas16 to the matrix framebuffer's internal format for display. <br /></td></tr>
<tr class="separator:ae75a4e7ab4d71311aca4ef9ad5f3166d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c308f4b7fa6801416afa82002626269"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_adafruit___protomatter.html#a4c308f4b7fa6801416afa82002626269">getFrameCount</a> (void)</td></tr>
<tr class="memdesc:a4c308f4b7fa6801416afa82002626269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current value of frame counter and resets its value to zero. Two calls to this, timed one second apart (or use math with other intervals), can be used to get a rough frames-per-second value for the matrix (since this is difficult to estimate beforehand).  <a href="#a4c308f4b7fa6801416afa82002626269">More...</a><br /></td></tr>
<tr class="separator:a4c308f4b7fa6801416afa82002626269"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class representing the Arduino-facing side of the Protomatter library. Subclass of Adafruit_GFX's GFXcanvas16 to allow all the drawing operations. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a136c7477c2c673101d445a5aa3da18a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a136c7477c2c673101d445a5aa3da18a5">&#9670;&nbsp;</a></span>Adafruit_Protomatter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Adafruit_Protomatter::Adafruit_Protomatter </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>bitWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bitDepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rgbCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rgbList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>addrCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>addrList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>clockPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>latchPin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>oePin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>doubleBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>timer</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_adafruit___protomatter.html" title="Class representing the Arduino-facing side of the Protomatter library. Subclass of Adafruit_GFX&#39;s GFX...">Adafruit_Protomatter</a> constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bitWidth</td><td>Total width of RGB matrix chain, in pixels. Usu. some multiple of 32, but maybe exceptions. </td></tr>
    <tr><td class="paramname">bitDepth</td><td>Color "depth" in bitplanes, determines range of shades of red, green and blue. e.g. passing 4 bits = 16 shades ea. R,G,B = 16x16x16 = 4096 colors. Max is 6, since the GFX library works with "565" RGB colors (6 bits green, 5 red/blue). </td></tr>
    <tr><td class="paramname">rgbCount</td><td>Number of "sets" of RGB data pins, each set containing 6 pins (2 ea. R,G,B). Typically 1, indicating a single matrix (or matrix chain). In theory (but not yet extensively tested), multiple sets of pins can be driven in parallel, up to 5 on some devices (if the hardware design provides all those bits on one PORT). </td></tr>
    <tr><td class="paramname">rgbList</td><td>A uint8_t array of pins (Arduino pin numbering), 6X the prior rgbCount value, corresponding to the 6 output color bits for a matrix (or chain). Order is upper-half red, green, blue, lower-half red, green blue (repeat for each add'l chain). All the RGB pins (plus the clock pin below on some architectures) MUST be on the same PORT register. It's recommended (but not required) that all RGB pins (and clock depending on arch) be within the same byte of a PORT (but do not need to be sequential or contiguous within that byte) for more efficient RAM utilization. For two concurrent chains, same principle but 16-bit word instead of byte. </td></tr>
    <tr><td class="paramname">addrCount</td><td>Number of row address lines required of matrix. Total pixel height is then 2 x 2^addrCount, e.g. 32-pixel-tall matrices have 4 row address lines. </td></tr>
    <tr><td class="paramname">addrList</td><td>A uint8_t array of pins (Arduino pin numbering), one per row address line. </td></tr>
    <tr><td class="paramname">clockPin</td><td>RGB clock pin (Arduino pin #). </td></tr>
    <tr><td class="paramname">latchPin</td><td>RGB data latch pin (Arduino pin #). </td></tr>
    <tr><td class="paramname">oePin</td><td>Output enable pin (Arduino pin #), active low. </td></tr>
    <tr><td class="paramname">doubleBuffer</td><td>If true, two matrix buffers are allocated, so changing display contents doesn't introduce artifacts mid-conversion. Requires ~2X RAM. </td></tr>
    <tr><td class="paramname">timer</td><td>Pointer to timer peripheral or timer-related struct (architecture-dependent), or NULL to use a default timer ID (also arch-dependent). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7447e7f6db42970482f20d1f5029ece1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7447e7f6db42970482f20d1f5029ece1">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="core_8h.html#af659eb7a92f2ae47fac607db2eca4bc5">ProtomatterStatus</a> Adafruit_Protomatter::begin </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a Protomatter matrix display running &ndash; initialize pins, timer and interrupt into existence. </p>
<dl class="section return"><dt>Returns</dt><dd>A ProtomatterStatus status, one of: PROTOMATTER_OK if everything is good. PROTOMATTER_ERR_PINS if data and/or clock pins are split across different PORTs. PROTOMATTER_ERR_MALLOC if insufficient RAM to allocate display memory. PROTOMATTER_ERR_ARG if a bad value was passed to the constructor. </dd></dl>

</div>
</div>
<a id="a4c308f4b7fa6801416afa82002626269"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c308f4b7fa6801416afa82002626269">&#9670;&nbsp;</a></span>getFrameCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Adafruit_Protomatter::getFrameCount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns current value of frame counter and resets its value to zero. Two calls to this, timed one second apart (or use math with other intervals), can be used to get a rough frames-per-second value for the matrix (since this is difficult to estimate beforehand). </p>
<dl class="section return"><dt>Returns</dt><dd>Frame count since previous call to function, as a uint32_t. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_adafruit___protomatter_8h_source.html">Adafruit_Protomatter.h</a></li>
<li><a class="el" href="_adafruit___protomatter_8cpp.html">Adafruit_Protomatter.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
